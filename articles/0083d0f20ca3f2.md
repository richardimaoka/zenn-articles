---
title: ""
emoji: "ğŸ”–"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: []
published: false
---

## Docker ã®ã‚ªãƒ•ã‚£ã‚·ãƒ£ãƒ«ã‚¤ãƒ¡ãƒ¼ã‚¸ã‹ã‚‰ CMD ã¨ ENTRYPOINT ã®ä½¿ã„åˆ†ã‘å­¦ã¶

[Dockerhub ã«æ²è¼‰ã•ã‚Œã¦ã„ã‚‹ã‚ªãƒ•ã‚£ã‚·ãƒ£ãƒ«ã‚¤ãƒ¡ãƒ¼ã‚¸](https://hub.docker.com/search?image_filter=official&q=)ã‹ã‚‰ã€CMD ã¨ ENTRYOINT ãŒã©ã®ã‚ˆã†ã«ä½¿ã‚ã‚Œã¦ã„ã‚‹ã‹å­¦ã³ã¾ã—ã‚‡ã†ã€‚

:::details ã‚ªãƒ•ã‚£ã‚·ãƒ£ãƒ«ã‚¤ãƒ¡ãƒ¼ã‚¸ã® Dockerfile ãŒè¦‹ãŸã„ï¼

ä»¥ä¸‹ã¯ç”»åƒã§ã™ã€ã‚¯ãƒªãƒƒã‚¯ã§ãã¾ã›ã‚“ã€‚

![Supported-Dockerfile-links.png](/images/bd87036acd951e/Supported-Dockerfile-links.png)

å„ã‚ªãƒ•ã‚£ã‚·ãƒ£ãƒ«ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒšãƒ¼ã‚¸ã‹ã‚‰ã€ `Dockerfile links` ã¨ã‹æ›¸ã‹ã‚Œã¦ã„ã‚‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒã‚ã‚Œã°ã€ãã“ã‹ã‚‰ãƒªãƒ³ã‚¯å…ˆã«é£›ã¹ã¾ã™ã€‚
:::

### [nginx](https://hub.docker.com/_/nginx)

```:ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„
docker pull nginx
docker inspect nginx
```

```:ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œçµæœ
"Cmd": [
    "nginx",
    "-g",
    "daemon off;"
],
"Entrypoint": [
    "/docker-entrypoint.sh"
],
```

ENTRYPOINT ã¯æ±ç”¨çš„ãª[docker-entrypoint.sh](https://github.com/nginxinc/docker-nginx/blob/master/entrypoint/docker-entrypoint.sh)ã¨ã„ã†ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ãªã£ã¦ã„ã¾ã™ã€‚

CMD ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå¼•æ•°ã ã‘ã§ã¯ãªãã€`nginx`ã‚³ãƒãƒ³ãƒ‰è‡ªä½“ã‚‚æŒ‡å®šã—ã¦ã„ã‚‹ `CMD ["executable", "param1", "param2"â€¦]` ã¨ã„ã†å½¢å¼ãªã®ã§ã€[Docker å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã® Best practices for writing Dockerfiles](https://docs.docker.com/develop/develop-images/dockerfile_best-practices/#cmd)ã«å¾“ã£ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚

> The `CMD` instruction should be used to run the software contained in your image, along with any arguments. `CMD` should almost always be used in the form of `CMD ["executable", "param1", "param2"â€¦]`.

ENTRYPOINT ã¯æŒ‡å®šã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã®ã€æ±ç”¨çš„ãªã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã‚ã‚Šã€ãã‚Œè‡ªä½“ã¯ã»ã¨ã‚“ã©ä½•ã‚‚ã›ãšä¸ãˆã‚‰ã‚ŒãŸã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã ã‘ãªã®ã§ã€[ã€Œã‹ãªã‚‰ãšå®Ÿè¡Œã•ã‚Œã‚‹ ENTRYPOINTï¼ã€ã¨ã—ã¦æ„è­˜ã™ã‚‹](https://pocketstudio.net/2020/01/31/cmd-and-entrypoint/)å¿…è¦ã¯ãªã„ã¨æ€ã‚ã‚Œã¾ã™ã€‚

> CMD should rarely be used in the manner of `CMD ["param", "param"]` in conjunction with `ENTRYPOINT`, unless you and your expected users are already quite familiar with how `ENTRYPOINT` works.

### [httpd](https://hub.docker.com/_/httpd)

```:ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„
docker pull httpd
docker inspect httpd
```

```ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œçµæœ
"Cmd": [
    "httpd-foreground"
],
"Entrypoint": null,
```

ENTRYPOINT ã¯ null ã§ã™ã€‚

CMD ã¯`httpd-foreground`ã‚³ãƒãƒ³ãƒ‰è‡ªä½“ã‚’æŒ‡å®šã—ã¦ã„ã‚‹ `CMD ["executable", "param1", "param2"â€¦]` ã¨ã„ã†å½¢å¼ãªã®ã§ã€[Docker å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã® Best practices for writing Dockerfiles](https://docs.docker.com/develop/develop-images/dockerfile_best-practices/#cmd)ã«å¾“ã£ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚

> The `CMD` instruction should be used to run the software contained in your image, along with any arguments. `CMD` should almost always be used in the form of `CMD ["executable", "param1", "param2"â€¦]`.

### [python](https://hub.docker.com/_/python)

```:ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„
docker pull python
docker inspect python
```

```ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œçµæœ
"Cmd": [
    "python3"
],
"Entrypoint": null,
```

ENTRYPOINT ã¯ null ã§ã™ã€‚

CMD ã¯ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªã‚·ã‚§ãƒ«ã‚’ç«‹ã¡ä¸Šã’ã‚‹`python3`ã‚³ãƒãƒ³ãƒ‰ãªã®ã§ã€[Docker å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã® Best practices for writing Dockerfiles](https://docs.docker.com/develop/develop-images/dockerfile_best-practices/#cmd)ã«å¾“ã£ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚

> In most other cases, CMD should be given an interactive shell, such as bash, python and perl. For example, `CMD ["perl", "-de0"]`, `CMD ["python"]`, or `CMD ["php", "-a"]`.

### [golang](https://hub.docker.com/_/golang)

```:ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„
docker pull golang
docker inspect golang
```

```ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œçµæœ
"Cmd": [
    "bash"
],
"Entrypoint": null,
```

ENTRYPOINT ã¯ null ã§ã™ã€‚

èˆˆå‘³æ·±ã„ã“ã¨ã«ã€golang ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ä½•ã‚‚å¼•æ•°ã‚’ä¸ãˆãšã«`docker run golang`ã™ã‚‹ã¨ã€CMD ã«æŒ‡å®šã•ã‚ŒãŸ`bash`ã‚’å®Ÿè¡Œã—ã¦ã€å³æ™‚çµ‚äº†ã—ã¾ã™ã€‚Go ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªã‚·ã‚§ãƒ«ã¯ç«‹ã¡ä¸Šã’ã¾ã›ã‚“ã€‚Go ã§ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªã‚·ã‚§ãƒ«ã‚’ä½¿ã†ã«ã¯`go`ã‚³ãƒãƒ³ãƒ‰ã§ã¯ãªãã€ https://github.com/x-motemen/gore ã®ã‚ˆã†ãªãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã†ã‹ã‚‰ã§ã—ã‚‡ã†ã‹ï¼Ÿ

golang ã‚¤ãƒ¡ãƒ¼ã‚¸è‡ªä½“ã‚’ç›´æ¥`docker run golang`ã™ã‚‹æƒ³å®šã§ã¯ãªãã€ä¸‹è¨˜ã®ã‚ˆã†ã«ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã—ã¦ golang ã‚’ä½¿ã„ã€ãƒ“ãƒ«ãƒ‰ã‚³ãƒ³ãƒ†ãƒŠã¨ã—ã¦`go build`ã‚’è¡Œã£ãŸå¾Œã€CMD(ã‚‚ã—ãã¯ ENTRYPOINT)ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã‚’å‰æã¨ã—ã¦ã„ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

```dockerfile
FROM golang
...
RUN go build -o /some-exec-path
CMD ["/some-exec-path", "param1", "param2"]
```

### [openjdk](https://hub.docker.com/_/openjdk)

```:ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„
docker pull openjdk
docker inspect openjdk
```

```ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œçµæœ
"Cmd": [
    "jshell"
],
"Entrypoint": null,
```

ENTRYPOINT ã¯ null ã§ã™ã€‚

CMD ã¯ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªã‚·ã‚§ãƒ«ã‚’ç«‹ã¡ä¸Šã’ã‚‹`jshell`ã‚³ãƒãƒ³ãƒ‰ãªã®ã§ã€[Docker å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã® Best practices for writing Dockerfiles](https://docs.docker.com/develop/develop-images/dockerfile_best-practices/#cmd)ã«å¾“ã£ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚

> In most other cases, CMD should be given an interactive shell, such as bash, python and perl. For example, `CMD ["perl", "-de0"]`, `CMD ["python"]`, or `CMD ["php", "-a"]`.

```:ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„
docker run --rm oepnjdk
```

```
INFO: Created user preferences directory.
|  Welcome to JShell -- Version 18.0.2.1
|  For an introduction type: /help intro

jshell> %
```

openjdk ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ Java ã®ãƒ“ãƒ«ãƒ‰ã«ä½¿ãˆã‚‹ã¯ãšã§ã™ãŒã€å…ˆç¨‹ã® golang ã¨ã¯é•ã£ãŸ CMD ã®å½¢å¼ã«ãªã£ã¦ã„ã‚‹ã®ãŒèˆˆå‘³æ·±ã„ã§ã™ã­ã€‚

### [gradle](https://hub.docker.com/_/gradle)

```:ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„
docker pull gradle
docker inspect gradle
```

```ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œçµæœ
"Cmd": [
    "gradle"
],
"Entrypoint": null,
```

CMD ã¯`gradle`ã‚³ãƒãƒ³ãƒ‰è‡ªä½“ã‚’æŒ‡å®šã—ã¦ã„ã‚‹ `CMD ["executable", "param1", "param2"â€¦]` ã¨ã„ã†å½¢å¼ãªã®ã§ã€[Docker å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã® Best practices for writing Dockerfiles](https://docs.docker.com/develop/develop-images/dockerfile_best-practices/#cmd)ã«å¾“ã£ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚

> The `CMD` instruction should be used to run the software contained in your image, along with any arguments. `CMD` should almost always be used in the form of `CMD ["executable", "param1", "param2"â€¦]`.

`gradle`ã‚³ãƒãƒ³ãƒ‰ã¯ãƒ“ãƒ«ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨çµ‚äº†ã™ã‚‹ã®ã§ã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªã‚·ã‚§ãƒ«ã‚’ç«‹ã¡ä¸Šã’ã‚‹ã‚³ãƒãƒ³ãƒ‰ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

golang, openjdk, gradle ã¨ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ãƒ“ãƒ«ãƒ‰ã™ã‚‹ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã«ä½¿ãˆã‚‹ã‚ªãƒ•ã‚£ã‚·ãƒ£ãƒ«ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’è¦‹ã¦ãã¾ã—ãŸãŒã€CMD ã®æŒ‡å®šã«ã¤ã„ã¦ã¯ä¸‰è€…ä¸‰æ§˜ã§ã™ã­ã€‚

### [ubuntu]()

https://hub.docker.com/_/ubuntu

```:ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„
docker pull ubuntu
docker inspect ubuntu
```

```ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œçµæœ
"Cmd": [
    "bash"
],
"Entrypoint": null,
```

### centos

```:ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„
docker pull centos
docker inspect centos
```

```ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œçµæœ
"Cmd": [
    "/bin/bash"
],
"Entrypoint": null,
```

### mysql

```:ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„
docker pull mysql
docker inspect mysql
```

```ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œçµæœ
            "Cmd": [
                "mysqld"
            ],
            "Entrypoint": [
                "docker-entrypoint.sh"
            ],
```

https://github.com/docker-library/mysql/blob/master/5.7/docker-entrypoint.sh

### postgres

```:ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„
docker pull postgres
docker inspect postgres
```

```ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œçµæœ
        "Cmd": [
                "postgres"
            ],
            "Image": "sha256:2b3c80c9f20f867d65833c58189039189df455c2936fc21346339625da98a58f",
            "Volumes": {
                "/var/lib/postgresql/data": {}
            },
            "WorkingDir": "",
            "Entrypoint": [
                "docker-entrypoint.sh"
            ],
            "OnBuild": null,
            "Labels": null,
            "StopSignal": "SIGINT"
        },
        "Architecture": "amd64",
```

### memcached

```:ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„
docker pull memcached
docker inspect memcached
```

```ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œçµæœ
            "Cmd": [
                "memcached"
            ],
            "Image": "sha256:2d659d0f0bb5070f84c4193388cf7289fc0323dfa891867d82dbc73eea1bb0ae",
            "Volumes": null,
            "WorkingDir": "",
            "Entrypoint": [
                "docker-entrypoint.sh"
            ],
```

### wordpress

```:ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„
docker pull wordpress
docker inspect wordpress
```

```ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œçµæœ
            "Cmd": [
                "apache2-foreground"
            ],
            "Image": "sha256:bce3ddb8707cc5bac629762b35b98ec4d532458317732189e7bb57856810eeb0",
            "Volumes": {
                "/var/www/html": {}
            },
            "WorkingDir": "/var/www/html",
            "Entrypoint": [
                "docker-entrypoint.sh"
            ],
```
