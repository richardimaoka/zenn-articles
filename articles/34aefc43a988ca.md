---
title: "ã‚³ãƒ”ãƒšã§å­¦ã¶ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«: GitHub Pull Request ã® merge conflict è§£æ±ºæ‰‹æ³•ã‚’è©¦ã™"
emoji: "ğŸ·"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["git"]
published: true
---

## å°å…¥

GitHub ã® pull request ã§ [merge conflict ãŒç™ºç”Ÿã—ãŸéš›](https://docs.github.com/ja/pull-requests/collaborating-with-pull-requests/addressing-merge-conflicts/about-merge-conflicts)ã€ãã®è§£æ±ºã«ã¯ 1.GitHub ã® Web UI ä¸Šã§è¡Œã†ã‚‚ã®ã¨ã€2.ãƒ­ãƒ¼ã‚«ãƒ«ã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã§è¡Œã†ã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚

1. [GitHub å…¬å¼: GitHub ã§ã®ãƒãƒ¼ã‚¸ ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã‚’è§£æ±ºã™ã‚‹](https://docs.github.com/ja/pull-requests/collaborating-with-pull-requests/addressing-merge-conflicts/resolving-a-merge-conflict-on-github)
2. [GitHub å…¬å¼: ã‚³ãƒãƒ³ãƒ‰ ãƒ©ã‚¤ãƒ³ã‚’ä½¿ç”¨ã—ã¦ãƒãƒ¼ã‚¸ ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã‚’è§£æ±ºã™ã‚‹](https://docs.github.com/ja/pull-requests/collaborating-with-pull-requests/addressing-merge-conflicts/resolving-a-merge-conflict-using-the-command-line)

è§£æ±ºæ‰‹æ³•ã®é•ã„ã«ã¤ã„ã¦æ‰‹ã‚’å‹•ã‹ã—ã¦å‹•ä½œç¢ºèªã™ã‚‹ã¨ã€çŸ¥è­˜ã®æ•´ç†ã‚‚ã§ãã‚‹ã¨æ€ã„ã¾ã™ã®ã§ã€æœ¬è¨˜äº‹ã§ã¯ã‚³ãƒ”ãƒšã§è²¼ã‚Šä»˜ã‘ã‚‹ã ã‘ã§ç°¡å˜ã«æ‰‹é †ã‚’å†ç¾ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚

:::details pull request ã®ãƒãƒ¼ã‚¸æ‰‹æ³•ã¨ã®åŒºåˆ¥

æœ¬è¨˜äº‹ã§å¯¾è±¡ã¨ã™ã‚‹ã®ã¯ pull requestã€å†…ã€ã§ merge conflict ã‚’è§£æ±ºã™ã‚‹æ‰‹æ³•ãªã®ã§ã€pull request è‡ªä½“ã‚’ base ãƒ–ãƒ©ãƒ³ãƒã¸ã¨ merge ã™ã‚‹æ‰‹æ³•ã¨ã¯åŒºåˆ¥ã—ã¦ãã ã•ã„ã€‚å¾Œè€…ã«ã¤ã„ã¦ã¯ä»¥ä¸‹ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚

- [GitHub å…¬å¼: ã‚³ãƒãƒ³ãƒ‰ ãƒ©ã‚¤ãƒ³ã‚’ä½¿ç”¨ã—ã¦ãƒãƒ¼ã‚¸ ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã‚’è§£æ±ºã™ã‚‹](https://docs.github.com/ja/pull-requests/collaborating-with-pull-requests/incorporating-changes-from-a-pull-request/about-pull-request-merges)
- [ã‚³ãƒ”ãƒšã§å­¦ã¶ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«: GitHub Pull Request 3 ç¨®é¡ã® merge æ‰‹æ³•ã‚’è©¦ã™](./f20aee8979292d)

:::

## æº–å‚™: GitHub ãƒ¬ãƒã‚¸ãƒˆãƒªã®ä½œæˆ

ã¾ãšã¯ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ git ãƒ¬ãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã—ã¾ã™ã€‚

```sh:ã‚³ãƒ”ãƒšã—ã¦å®Ÿè¡Œ
mkdir pull-req-udpate-experiments
cd pull-req-udpate-experiments
git init
```

GitHub ä¸Šã«ãƒ¬ãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã—ã¾ã—ã‚‡ã†ã€‚Web ãƒ–ãƒ©ã‚¦ã‚¶ã§ã¯ãªãã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ãˆã°ä¸€ç™ºã§çµ‚ã‚ã‚Šã¾ã™ã€‚

```sh:ã‚³ãƒ”ãƒšã—ã¦å®Ÿè¡Œ
gh repo create pull-req-udpate-experiments --public --source=. --remote=origin
```

:::details ã€€ä¸Šè¨˜ã® gh ã‚³ãƒãƒ³ãƒ‰ã¯ä½•ï¼Ÿ
[gh ã‚³ãƒãƒ³ãƒ‰(GitHub CLI)](https://cli.github.com/)ã‚’ä½¿ãˆã°ã€GitHub ä¸Šã§ã®ãƒªãƒã‚¸ãƒˆãƒªä½œæˆãªã©ä½œæ¥­ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã‹ã‚‰ã‚³ãƒãƒ³ãƒ‰ã²ã¨ã¤ã§è¡Œãˆã¾ã™ã€‚ã¾ã ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãªã„æ–¹ã¯ã€ãœã²ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’æ¤œè¨ã—ã¦ãã ã•ã„ã€‚[gh repo create ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã®èª¬æ˜](https://cli.github.com/manual/gh_repo_create)ã«ã‚‚ã‚ã‚Šã¾ã™ãŒã€ä¸Šè¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨å¼•æ•°ã®æ„å‘³ã¯ã“ã¡ã‚‰ã§ã™ã€‚

- `pull-req-udpate-experiments`: GitHub ä¸Šã®ãƒ¬ãƒã‚¸ãƒˆãƒªå
- `--public`: public ãƒ¬ãƒã‚¸ãƒˆãƒªã¨ã—ã¦ä½œæˆ
- `--source=.`: ãƒ­ãƒ¼ã‚«ãƒ«ãƒ¬ãƒã‚¸ãƒˆãƒªã®ãƒ‘ã‚¹ã¯ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª `.`
- `--remote=origin` ãƒªãƒ¢ãƒ¼ãƒˆãƒ¬ãƒã‚¸ãƒˆãƒªã‚’ origin ã«æŒ‡å®š

:::

## Merge pull request(Create a merge commit)

```:ã‚³ãƒ”ãƒšã—ã¦å®Ÿè¡Œ
git branch -f developer
```

```:ã‚³ãƒ”ãƒšã—ã¦å®Ÿè¡Œ
git switch developer
cat << EOF > pull-req-no-conflict.txt
a

b

c
EOF
git add --all
git commit -m "create pull-req-no-conflict.txt"
git push origin developer
```

```:ã‚³ãƒ”ãƒšã—ã¦å®Ÿè¡Œ
git switch -c pr-update-1
sed -i 's/a/aaaaa/' pull-req-no-conflict.txt # ãƒ•ã‚¡ã‚¤ãƒ«ä¸­ã®aã‚’aaaaaã«ç½®ãæ›ãˆ
git add --all
git commit -m "update a in pr-update-1"
git push --set-upstream origin pr-update-1
gh pr create --title pr-update-1 --body "" --base developer --head pr-update-1
```

```:ã‚³ãƒ”ãƒšã—ã¦å®Ÿè¡Œ
git switch developer
sed -i 's/b/bbbbb/' pull-req-no-conflict.txt # ãƒ•ã‚¡ã‚¤ãƒ«ä¸­ã®bã‚’bbbbbã«ç½®ãæ›ãˆ
git add --all
git commit -m "update b in developer"
git push origin developer
```

```:ã‚³ãƒ”ãƒšã—ã¦å®Ÿè¡Œ
gh pr merge pr-update-1 --merge --delete-branch
```

```:ã‚³ãƒ”ãƒšã—ã¦å®Ÿè¡Œ
git switch developer
cat << EOF > pull-req-same-line-conflict.txt
a

b

c
EOF
git add --all
git commit -m "create pull-req-same-line-conflict.txt"
git push origin developer
```

```:ã‚³ãƒ”ãƒšã—ã¦å®Ÿè¡Œ
git switch -c pr-update-2
sed -i 's/a/aaaaa/' pull-req-same-line-conflict.txt # ãƒ•ã‚¡ã‚¤ãƒ«ä¸­ã®aã‚’aaaaaã«ç½®ãæ›ãˆ
git add --all
git commit -m "update a to aaaaa in pr-update-2"
git push --set-upstream origin pr-update-2
gh pr create --title pr-update-2 --body "" --base developer --head pr-update-2
```

```:ã‚³ãƒ”ãƒšã—ã¦å®Ÿè¡Œ
git switch developer
sed -i 's/a/aaa/' pull-req-same-line-conflict.txt # ãƒ•ã‚¡ã‚¤ãƒ«ä¸­ã®aã‚’aaaã«ç½®ãæ›ãˆ
git add --all
git commit -m "update a to aaa in developer"
git push origin developer
```

```:ã‚³ãƒ”ãƒšã—ã¦å®Ÿè¡Œ
gh pr merge pr-update-2 --merge --delete-branch
```

np
