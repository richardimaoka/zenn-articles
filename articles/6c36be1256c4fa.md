---
title: "ã‚³ãƒ”ãƒšã§å­¦ã¶ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«: GitHub Pull Request ã® updateæ‰‹æ³•(ãƒœã‚¿ãƒ³)ã‚’è©¦ã™"
emoji: "ğŸ·"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢h" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["git"]
published: false
---

## å°å…¥

GitHub ã® pull request ã§ã¯ã€base ãƒ–ãƒ©ãƒ³ãƒã®å¤‰æ›´ã‚’å–ã‚Šè¾¼ã‚“ã§ pull request ã®åŒæœŸã‚’ç¶­æŒã™ã‚‹ãŸã‚ã«ã€ Update with merge commit ã¨ Update with rebase ã¨ã„ã† 2 ã¤ã®æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚

![update with merge commit](/images/6c36be1256c4fa/update-with-merge-commit.png)

ã“ã‚Œã‚‰ 2 ã¤ã®æ–¹æ³•ã¯ã€ä¸Šç”»åƒã®ã‚ˆã†ã«ãƒˆã‚°ãƒ«ãƒœã‚¿ãƒ³ã²ã¨ã¤ã§åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã¾ã™ãŒã€base ãƒ–ãƒ©ãƒ³ãƒã®å¤‰æ›´ã‚’å–ã‚Šè¾¼ã‚€éš›ã¯å½“ç„¶ã©ã¡ã‚‰ã‹ä¸€æ–¹ã‚’é¸ã°ãªã„ã¨ã„ã‘ã¾ã›ã‚“ã€‚

- [GitHub å…¬å¼: ãƒ™ãƒ¼ã‚¹ ãƒ–ãƒ©ãƒ³ãƒã¨ pull request ã®åŒæœŸã®ç¶­æŒ](https://docs.github.com/ja/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/keeping-your-pull-request-in-sync-with-the-base-branch)
- [GitHub blog: More ways to keep your pull request branch up-to-date](https://github.blog/changelog/2022-02-03-more-ways-to-keep-your-pull-request-branch-up-to-date/)

æ‰‹ã‚’å‹•ã‹ã—ã¦å‹•ä½œç¢ºèªã™ã‚‹ã¨çŸ¥è­˜ã®æ•´ç†ã‚‚ã§ãã€å ´é¢ã«å¿œã˜ã¦ã©ã¡ã‚‰ã‚’é¸ã¶ã‹åˆ¤æ–­ã—ã‚„ã™ããªã‚‹ã¨æ€ã„ã¾ã™ã®ã§ã€æœ¬è¨˜äº‹ã§ã¯ã»ã¼ã‚³ãƒ”ãƒšã§è²¼ã‚Šä»˜ã‘ã‚‹ã ã‘ã§ç°¡å˜ã«æ‰‹é †ã‚’å†ç¾ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚

:::details merge conflict ãŒã‚ã‚‹å ´åˆã® è§£æ±ºæ‰‹æ³•ã¨ã®åŒºåˆ¥

æœ¬è¨˜äº‹ã§å¯¾è±¡ã¨ã™ã‚‹ã®ã¯ pull request ã« merge conflict ãŒãªã„å ´åˆã®ã¿é©ç”¨ã§ãã‚‹æ‰‹æ³•ã§ã™ã€‚merge conflict ãŒç™ºç”Ÿã—ã¦ã„ã‚‹ã¨ãã«è§£æ±ºã™ã‚‹æ‰‹æ³•ã¨ã¯åŒºåˆ¥ã—ã¦ãã ã•ã„ã€‚å¾Œè€…ã«ã¤ã„ã¦ã¯ä»¥ä¸‹ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚

- [GitHub å…¬å¼: GitHub ã§ã®ãƒãƒ¼ã‚¸ ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã‚’è§£æ±ºã™ã‚‹](https://docs.github.com/ja/pull-requests/collaborating-with-pull-requests/addressing-merge-conflicts/resolving-a-merge-conflict-on-github)
- [GitHub å…¬å¼: ã‚³ãƒãƒ³ãƒ‰ ãƒ©ã‚¤ãƒ³ã‚’ä½¿ç”¨ã—ã¦ãƒãƒ¼ã‚¸ ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã‚’è§£æ±ºã™ã‚‹](https://docs.github.com/ja/pull-requests/collaborating-with-pull-requests/addressing-merge-conflicts/resolving-a-merge-conflict-using-the-command-line)
- [ã‚³ãƒ”ãƒšã§å­¦ã¶ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«: GitHub Pull Request ã® merge conflict è§£æ±ºæ‰‹æ³•ã‚’è©¦ã™](./34aefc43a988ca)

:::

:::details pull request ã®ãƒãƒ¼ã‚¸æ‰‹æ³•ã¨ã®åŒºåˆ¥

æœ¬è¨˜äº‹ã§å¯¾è±¡ã¨ã™ã‚‹ã®ã¯ pull requestã€å†…ã€ã§ merge conflict ã‚’è§£æ±ºã™ã‚‹æ‰‹æ³•ãªã®ã§ã€pull request è‡ªä½“ã‚’ base ãƒ–ãƒ©ãƒ³ãƒã¸ã¨ merge ã™ã‚‹æ‰‹æ³•ã¨ã¯åŒºåˆ¥ã—ã¦ãã ã•ã„ã€‚å¾Œè€…ã«ã¤ã„ã¦ã¯ä»¥ä¸‹ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚

- [GitHub å…¬å¼: ã‚³ãƒãƒ³ãƒ‰ ãƒ©ã‚¤ãƒ³ã‚’ä½¿ç”¨ã—ã¦ãƒãƒ¼ã‚¸ ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã‚’è§£æ±ºã™ã‚‹](https://docs.github.com/ja/pull-requests/collaborating-with-pull-requests/incorporating-changes-from-a-pull-request/about-pull-request-merges)
- [ã‚³ãƒ”ãƒšã§å­¦ã¶ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«: GitHub Pull Request 3 ç¨®é¡ã® merge æ‰‹æ³•ã‚’è©¦ã™](./f20aee8979292d)

:::

```sh:ã‚³ãƒ”ãƒšã—ã¦å®Ÿè¡Œ
cat << EOF > pull-req-update-with-merge.txt
a

b

c
EOF
git add --all
git commit -m "create pull-req-update-with-merge.txt"
git push origin developer
```

```txt:pull-req-update-with-merge.txt
a

b

c
```

```sh:ã‚³ãƒ”ãƒšã—ã¦å®Ÿè¡Œ
git switch -c pr-update-with-merge
sed -i 's/a/aaaaa/' pull-req-update-with-merge.txt # ãƒ•ã‚¡ã‚¤ãƒ«ä¸­ã®aã‚’aaaaaã«ç½®ãæ›ãˆ
git add --all
git commit -m "update a in pr-update-with-merge"
```

```sh:ã‚³ãƒ”ãƒšã—ã¦å®Ÿè¡Œ
git push --set-upstream origin pr-update-with-merge
gh pr create --title pr-update-with-merge --body "" --base developer --head pr-update-with-merge
```

![base branch up to date](/images/6c36be1256c4fa/base-branch-up-to-date.png)

```sh:ã‚³ãƒ”ãƒšã—ã¦å®Ÿè¡Œ
git switch developer
sed -i 's/b/bbbbb/' pull-req-update-with-merge.txt # ãƒ•ã‚¡ã‚¤ãƒ«ä¸­ã®bã‚’bbbbbã«ç½®ãæ›ãˆ
git add --all
git commit -m "update b in developer"
git push origin developer
```

![update with merge commit](/images/6c36be1256c4fa/update-with-merge-commit.png)

![git log update with merge commit](/images/6c36be1256c4fa/git-log-update-with-merge.png)

```
git log --oneline --decorate --graph
```

```log:git log
* 6261845 (HEAD -> developer) Merge branch 'developer' into pr-update-with-merge
|\
| * 973896c update b in developer
* | 9378326 (origin/pr-update-with-merge) update a in pr-update-with-merge
|/
* 58cfed0 create pull-req-update-with-merge.txt
```

![git log pr merged 1](/images/6c36be1256c4fa/git-log-pr-merged-1.png)

```
git log --oneline --decorate --graph
```

```log:git log
*   c02aa4b (HEAD -> developer, origin/developer) Merge pull request #12 from richardimaoka/pr-update-with-merge
|\
| *   6261845 Merge branch 'developer' into pr-update-with-merge
| |\
| |/
|/|
* | 973896c update b in developer
| * 9378326 (origin/pr-update-with-merge) update a in pr-update-with-merge
|/
* 58cfed0 create pull-req-update-with-merge.txt
```

![update with rebase](/images/6c36be1256c4fa/update-with-rebase.png)
